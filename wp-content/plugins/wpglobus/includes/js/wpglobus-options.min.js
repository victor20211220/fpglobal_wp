jQuery(document).ready(function(e){"use strict";var a;"undefined"!=typeof WPGlobusOptions&&(a={currentTabID:"",firstLanguageCb:null,init:function(){a.initTab(),a.checkHandlers(),a.addListeners(),a.initSpecs()},setCurrentTabID:function(t){a.currentTabID=t},getCurrentTabID:function(){return a.currentTabID},setFirstLanguageCb:function(){null!==a.firstLanguageCb&&a.firstLanguageCb.off("click"),e('#enabled_languages-list li input[type="checkbox"]').prop("disabled",!1);var t=e("#enabled_languages-list li").eq(0);a.firstLanguageCb=t.find('input[type="checkbox"]'),a.firstLanguageCb.prop("checked","checked"),a.firstLanguageCb.prop("disabled","disabled"),a.firstLanguageCb.css({visibility:"hidden"}),a.firstLanguageCb.on("click",function(t){return t.preventDefault(),!1})},handlerEnabled_languages:function(){e(".wpglobus-sortable").sortable({placeholder:"ui-state-highlight",update:function(t,n){e('#enabled_languages-list li input[type="checkbox"]').css({visibility:"visible"}),a.setFirstLanguageCb()}}),e(".wpglobus-sortable").disableSelection(),a.setFirstLanguageCb()},handlerLanguagesTable:function(){var s=e("#wpglobus-options-languagesTable").parents(".wpglobus-options-tab").data("tab");e("#wpglobus-options-languagesTable .manage-column.sortable a").each(function(t,n){var a=e(n).attr("href");-1!=a.indexOf("tab")?-1==a.indexOf("tab-from")&&(a=a.replace(/tab/,"tab-from"),a+="&tab="+s):a+="&tab="+s,e(n).attr("href",a)})},checkHandlers:function(){e(".wpglobus-options-field").each(function(t,n){if(void 0===e(n).data("js-handler"))return!0;n=e(n).data("js-handler");"function"==typeof a[n]&&a[n]()})},initTab:function(){var t=e("#section-tab-"+WPGlobusOptions.tab);a.setCurrentTabID(WPGlobusOptions.tab),0==t.length&&(a.setCurrentTabID(WPGlobusOptions.defaultTab),t=e("#section-tab-"+a.currentTabID)),t.css({display:"block"}),e("#wpglobus-tab-link-"+a.currentTabID).addClass("wpglobus-tab-link-active"),a.initLanguageTable(),e(".wpglobus-options-wrap .no-inline-js").attr("onclick","return false;"),setTimeout(function(){e("#section-tab-"+WPGlobusOptions.tab+" .wpglobus-options-menu .wpglobus-tab-link-subsection").eq(0).click()},200),a.tabActions(a.getCurrentTabID())},initLanguageTable:function(){var a,s,t=e(".wpglobus-the-language-item-installed");9<t.length||(a=[],t.each(function(t){var n=+e(this).data("order");a[n]=e(this)}),s=e("#wpglobus-options-languagesTable #the-list tr").eq(0),e.each(a,function(t,n){e(s).before(n)}))},addListeners:function(){e(document).on("click","input.wpglobus-enabled_languages",function(t){var n=e(this).prop("checked"),a=e(this).attr("rel");n?e("#"+a).val("1"):e("#"+a).val("")}),e(document).on("click",".wpglobus-tab-link",function(t){var n=e(this).data("tab");a.setCurrentTabID(n),window.history.pushState("data","Title",WPGlobusOptions.newUrl.replace("{*}",n)),e(".wpglobus-options-tab").css({display:"none"}),e("#section-tab-"+n).css({display:"block"}),e(".wpglobus-tab-link").removeClass("wpglobus-tab-link-active"),e("#wpglobus-tab-link-"+n).addClass("wpglobus-tab-link-active"),e("#wpglobus_options_current_tab").val(n),1==e("#section-tab-"+n+" .wpglobus-tab-link-subsection.wpglobus-tab-link-active").length?e("#section-tab-"+n+" .wpglobus-tab-link-subsection.wpglobus-tab-link-active").click():0<e("#section-tab-"+n+" .wpglobus-tab-link-subsection").length&&e("#section-tab-"+n+" .wpglobus-tab-link-subsection").eq(0).click(),a.tabActions(e(this))}),e(document).on("click",".wpglobus-tab-link-subsection",function(t){var n=e(this).data("tab");e(".wpglobus-options-tab-subsection").css({display:"none"}),e("#subsection-tab-"+n).css({display:"block"}),e(".wpglobus-tab-link-subsection").removeClass("wpglobus-tab-link-active"),e("#wpglobus-tab-link-subsection-"+n).addClass("wpglobus-tab-link-active")})},tabActions:function(t){0!=(t="string"==typeof t?e("#wpglobus-tab-link-"+t).eq(0):t).length&&(t.hasClass("wpglobus-tab-hide-submit-button")?e("#form-wpglobus-options .submit").addClass("hidden"):e("#form-wpglobus-options .submit").removeClass("hidden"))},initSpecs:function(){e(document).on("dblclick","#section-tab-customizer h2",function(t){e(".wpglobus-theme-info-spec").removeClass("hidden")}),e(document).on("dblclick",".column-wpglobus_flag",function(t){location=location.href+"&flags"})}},(WPGlobusOptions=e.extend({},WPGlobusOptions,a)).init())});