jQuery(document).ready(function(s){"use strict";var o;"undefined"!=typeof WPGlobusAcf&&(o={parseBool:function(e){return!/^(false|0)$/i.test(e)&&!!e},isPro:function(){return o.parseBool(WPGlobusAcf.pro)},isBuilder:function(){return o.parseBool(WPGlobusAcf.builder_id)},vendorAcfFields:null,option:{},init:function(e){if(o.isBuilder()&&"undefined"==typeof WPGlobusDialogApp)return o.setTranslatableClass(),void o.setAcfPostboxTitle();o.option=s.extend(o.option,e),o.option.pro?(o.startAcf(".acf-field"),o.runActions()):(0<s(".acf_postbox .field").length&&o.startAcf(".acf_postbox .field"),0<s(".acf-postbox .acf-field").length&&o.startAcf(".acf-postbox .acf-field")),o.attachListeners()},setAcfPostboxTitle:function(){"undefined"!=typeof WPGlobusCoreData&&setTimeout(function(){var e=s(".acf-postbox");0<e.length&&s.each(e,function(e,i){var t=s(i).find("h2.hndle").text();s(i).find("h2.hndle").text(t+" ("+WPGlobusCoreData.en_language_name[WPGlobusAcf.language]+")")})},1e3)},setTranslatableClass:function(){setTimeout(function(){s.each(o.getVendorAcfFields(),function(e,i){s("#"+i).addClass(WPGlobusAcf.translatableClass)})},500)},runActions:function(){void 0!==WPGlobusAcf.actions.fixTextFields&&WPGlobusAcf.actions.fixTextFields&&o.fixTextFields()},fixTextFields:function(){s.each(WPGlobusAcf.fields,function(e,i){i=s('input[type="text"]#'+i);1!=i.length||1==(i=i.parent(".acf-input-wrap")).length&&i.hasClass("acf-input-wrap")&&i.css("height","auto")})},isDisabledField:function(t){var n=!1,o=s("#"+t).parents(".acf-field").attr("id");return void 0!==o&&s.each(WPGlobusAcf.disabledFields,function(e,i){i==o&&(n=!0)}),n||(s.each(WPGlobusAcf.disabledFields,function(e,i){i==t&&(n=!0)}),n)},startAcf:function(e){s(".acf_postbox").parents("#postbox-container-2").length,s(e).each(function(){var e,i,t=s(this);return t.hasClass("field_type-textarea")||t.hasClass("acf-field-textarea")?(e=t.find("textarea").attr("id"),o.registerField(e),!!o.isDisabledField(e)||(!o.isVendorAcfField(e)||(i=s("#"+e).height()+20,void WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",styleTextareaWrapper:"height:"+i+"px;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"})))):t.hasClass("field_type-text")||t.hasClass("acf-field-text")?(e=t.find("input").attr("id"),o.registerField(e),!!o.isDisabledField(e)||(!o.isVendorAcfField(e)||void WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"}))):void 0})},registerField:function(e,i){var t=!1;return void 0!==e&&-1==e.indexOf("acfcloneindex")&&(o.isRegisteredField(e)||(t=!0,WPGlobusAcf.fields.push(e))),!!t&&e},getFields:function(){return WPGlobusAcf.fields},getDisabledFields:function(){return WPGlobusAcf.disabledFields},unificationField:function(e){return e=/acf\[/.test(e)?(e=e.replace(/\[/g,"-")).replace(/]/g,""):e},getVendorAcfFields:function(){if(null===o.vendorAcfFields){if("undefined"==typeof WPGlobusVendorAcfFields||""==WPGlobusVendorAcfFields)return o.vendorAcfFields=!1,o.vendorAcfFields;o.vendorAcfFields=WPGlobusVendorAcfFields.split(",")}return o.vendorAcfFields},isVendorAcfField:function(t){if(void 0===t)return!1;t=o.unificationField(t);var n=!1,e=o.getVendorAcfFields();return e&&s.each(e,function(e,i){if(i===t)return!(n=!0)}),n},isRegisteredField:function(i){var t=!1;return o.getFields().forEach(function(e){if(e==i)return!(t=!0)}),t},attachListeners:function(){var i;o.option.pro&&(i=this,acf.add_action&&acf.add_action("append",function(e){i.replaceCloneIndex(e)}))},replaceCloneIndex:function(e){var i=e.data("id");e.find('[data-source-id*="acfcloneindex"]').each(function(){s(this).attr("data-source-id",s(this).attr("data-source-id").replace("acfcloneindex",i))})}},(WPGlobusAcf=s.extend({},WPGlobusAcf,o)).init({pro:WPGlobusAcf.pro}))});